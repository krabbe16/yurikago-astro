---
title: "GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çµ±è¨ˆæƒ…å ±ã‚’å®šæœŸçš„ã«å–å¾—ã—ã¦ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«è¡¨ç¤ºã™ã‚‹"
description: "GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çµ±è¨ˆæƒ…å ±ã‚’å–å¾—ã—ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã«è¡¨ç¤ºã™ã‚‹æ–¹æ³•ã‚’è§£èª¬ã—ã¾ã—ãŸã€‚GitHub Actionsã‚’ç”¨ã„ãŸè¨­å®šæ‰‹é †ã‚„ãƒˆãƒ¼ã‚¯ãƒ³ã®ç”Ÿæˆæ–¹æ³•ã‚‚è¨˜è¼‰ã—ã¾ã—ãŸã€‚"
publishDate: "2022-06-09T00:00:00.000+0900"
tags: ["GitHub", "GitHub Actions", "CI/CD"]
---

## ã¯ã˜ã‚ã«

GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Overview ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚„ã¤ã§ã™ã€‚

![](/images/posts/cb71a47c76c2-20220609.png)

ã“ã¡ã‚‰ã®ã‚¤ãƒ³ãƒ•ã‚©ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çµ±è¨ˆæƒ…å ±ã‚’ SVGã€Markdownã€PDFã€JSON ãªã©ã®å½¢ã§å‡ºåŠ›ã§ãã¾ã™ã€‚

https://github.com/lowlighter/metrics

ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã®æ–¹æ³•ã¯ã„ãã¤ã‹ã‚ã‚Šã¾ã™ãŒã€ä»Šå›ã¯[GitHub Actions ã‚’ä½¿ã†æ–¹æ³•](https://github.com/lowlighter/metrics/blob/master/.github/readme/partials/documentation/setup/action.md)ã‚’è©¦ã—ã¦ã¿ã¾ã™ã€‚

## ãƒªãƒã‚¸ãƒˆãƒªã®ä½œæˆ

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã¨åŒã˜ public ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¾ã™ã€‚
è‡ªåˆ†ã®ç’°å¢ƒã ã¨ [cuavv/cuavv](https://github.com/cuavv/cuavv) ã¨ã„ã†ãƒªãƒã‚¸ãƒˆãƒªã«ãªã‚Šã¾ã™ã€‚

https://docs.github.com/ja/account-and-profile/setting-up-and-managing-your-github-profile/customizing-your-profile/managing-your-profile-readme

## Action code ã®ç”Ÿæˆ

ä»¥ä¸‹ã®ã‚µã‚¤ãƒˆã§çµ±è¨ˆæƒ…å ±ã‚’ã©ã®ã‚ˆã†ã«è¡¨ç¤ºã™ã‚‹ã‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã§ãã¾ã™ã€‚

https://metrics.lecoq.io/

![](/images/posts/3d2ffb3e3237-20220610.png)

ã¾ãŸã€Action code ã‚¿ãƒ–ã«çµ±è¨ˆæƒ…å ±ã‚’ç”»åƒã®å½¢ã§å‡ºåŠ›ã™ã‚‹ GitHub Actions ã®ã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

```yaml
# Visit https://github.com/lowlighter/metrics/blob/master/action.yml for full reference
name: Metrics
on:
  # Schedule updates (each hour)
  schedule: [{ cron: '0 * * * *' }]
  # Lines below let you run workflow manually and on each commit
  workflow_dispatch:
  push: { branches: ['master', 'main'] }
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # Your GitHub token
          # The following scopes are required:
          #  - public_access (default scope)
          # The following additional scopes may be required:
          #  - read:org      (for organization related metrics)
          #  - read:user     (for user related data)
          #  - read:packages (for some packages related data)
          #  - repo          (optional, if you want to include private repositories)
          token: ${{ secrets.METRICS_TOKEN }}

          # Options
          user: cuavv
          template: classic
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Tokyo
```

<!-- :::message -->

å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æŒ‡å®šã™ã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³`config_output`ã‚’è¨­å®šã—ãªã‹ã£ãŸå ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯`auto`ã§ã™ã€‚auto ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§æŒ‡å®šã—ãŸå‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«å¾“ã„ã¾ã™ã€‚ã‚½ãƒ¼ã‚¹ã®è©²å½“ç®‡æ‰€ã‚’è¦‹ã¤ã‘ã‚‰ã‚Œã¾ã›ã‚“ã§ã—ãŸãŒã€ãŠãã‚‰ã classic ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ SVG ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã®ã ã¨æ€ã„ã¾ã™ã€‚

<!-- ::: -->

https://github.com/lowlighter/metrics/blob/master/source/plugins/core/README.md#config_output

## GitHub Actions ã®è¨­å®š

Action code ã‚’ãƒªãƒã‚¸ãƒˆãƒªã®ä»¥ä¸‹ã®å ´æ‰€ã«ä¿å­˜ã—ã¾ã™ã€‚

https://github.com/cuavv/cuavv/blob/master/.github/workflows/metrics.yml

ã‚³ãƒ¼ãƒ‰å†…ã§`secrets.METRICS_TOKEN`ã‚’å‚ç…§ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ãŒ GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®çµ±è¨ˆæƒ…å ±ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚‚ã®ã§ã™ã€‚Personal Access Token ã‚’ç”Ÿæˆã—ã¦ã€ãã®å€¤ã‚’ãƒªãƒã‚¸ãƒˆãƒªã® secrets ã«è¨­å®šã—ã¾ã™ã€‚

### Personal Access Token ã®ç”Ÿæˆ

Action code å†…ã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹é€šã‚Šã€Select scopes ã§ä»¥ä¸‹ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã—ã¾ã™ã€‚

- read:org
- read:user
- read:packages
- repo

https://github.com/settings/tokens

### secrets ã®è¨­å®š

secrets ã¯æš—å·åŒ–ã•ã‚ŒãŸç’°å¢ƒå¤‰æ•°ã®ã“ã¨ã§ã™ã€‚ç”Ÿæˆã—ãŸ Personal Access Token ã‚’`METRICS_TOKEN`ã¨ã„ã†åå‰ã§ç™»éŒ²ã—ã¾ã™ã€‚è¨­å®šå ´æ‰€ã¯ãƒªãƒã‚¸ãƒˆãƒªã® Settings > Security > Secrets > Actions ã§ã™ã€‚

![](/images/posts/f8c7dc7a4868-20220609.png)

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å‹•ä½œç¢ºèª

è¨­å®šãŒå•é¡Œãªã‘ã‚Œã° GitHub Actions ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ãƒªãƒã‚¸ãƒˆãƒªã«`github-metrics.svg`ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¦ã„ã¾ã™ã€‚ç”»åƒã‚’å‡ºåŠ›ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ yaml ã®`schedule`ã§è¨­å®šã—ãŸé€šã‚Š 1 æ™‚é–“ã« 1 å›å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

![](/images/posts/e851a111f463-20220609.png)

## README.md ã®ä½œæˆ

å‡ºåŠ›ã—ãŸç”»åƒã‚’èª­ã¿è¾¼ã‚€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

https://github.com/cuavv/cuavv/blob/master/README.md

## ç”»åƒã®è¡¨ç¤ºç¢ºèª

GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã® Overview ã‚’è¡¨ç¤ºã—ãŸæ™‚ã«ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚Œã°å®Œæˆã§ã™ï¼

![](/images/posts/1828694702b9-20220609.png)

## ãŠã‚ã‚Šã«

ãŠæ°—ã«å…¥ã‚Šã¯ Most used languages ã§ã™ã€‚ãã®ä»–ã«ã‚‚çµ±è¨ˆæƒ…å ±ã‚’è¦–è¦šçš„ã«è¡¨ç¤ºã™ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã„ã‚ã„ã‚ç”¨æ„ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®è¦‹ã›æ–¹ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ãŒåºƒãŒã‚Šã¾ã™ã­ ğŸ§

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä¸€è¦§

https://github.com/lowlighter/metrics/blob/master/README.md#-plugins
